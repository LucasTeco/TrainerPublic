<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carousel Dinámico</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>

<body>

    <h1 class="display-4 text-center pt-5">Colecciones</h1>
    <p class="lead text-center">Grupo de templates guardados</p>
    <hr style="width: 400px;">

    <div id="carousel" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li></li>
            <li class="active"></li>
        </ol>
        <div class="carousel-inner" id="carousel-content">
            <!-- Contenido del carrusel se cargará aquí -->
        </div>
        <a class="carousel-control-prev" role="button" href="#"><svg aria-hidden="true" focusable="false"
                data-prefix="fas" data-icon="circle-arrow-left"
                class="svg-inline--fa fa-circle-arrow-left fa-3x text-primary" role="img"
                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                <path fill="currentColor"
                    d="M512 256A256 256 0 1 0 0 256a256 256 0 1 0 512 0zM231 127c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-71 71L376 232c13.3 0 24 10.7 24 24s-10.7 24-24 24l-182.1 0 71 71c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L119 273c-9.4-9.4-9.4-24.6 0-33.9L231 127z">
                </path>
            </svg><span class="sr-only">Anterior</span>
        </a>
        <a class="carousel-control-next" role="button" href="#"><svg aria-hidden="true" focusable="false"
                data-prefix="fas" data-icon="circle-arrow-right"
                class="svg-inline--fa fa-circle-arrow-right fa-3x text-primary " role="img"
                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                <path fill="currentColor"
                    d="M0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM281 385c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l71-71L136 280c-13.3 0-24-10.7-24-24s10.7-24 24-24l182.1 0-71-71c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L393 239c9.4 9.4 9.4 24.6 0 33.9L281 385z">
                </path>
            </svg><span class="sr-only">Siguiente</span>
        </a>
    </div>

    <!-- Scripts de Bootstrap y JQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        $(document).ready(function () {
            $.getJSON("data.json", function (data) {
                let activeClass = "active";

                for (let category in data) {
                    data[category].forEach((collection, index) => {
                        const carouselItem = `
                    <div class="carousel-item ${index === 0 ? activeClass : ''}">
                        <div class="container pb-5">
                            <div class="row flex-md-row justify-content-center">
                                <div class="col-8 py-2 col-md-4">
                                    <div class="card shadow border-0 text-center h-100 bg-transparent">
                                        <div class="position-relative card-img-top"
                                             style="height: 250px; background-image: url('${collection.img}'); background-size: cover;">
                                            <div class="position-absolute text-white p-2 w-100"
                                                 style="background-color: rgba(27, 8, 8, 0.4); bottom: 0px;">
                                                ${collection.description}
                                            </div>
                                        </div>
                                        <div class="card-body pb-0">
                                            <h3>${collection.name}</h3>
                                        </div>
                                        <div class="card-footer border-0 mb-0">
                                            <a href="${collection.lang}/index.html" class="btn btn-primary">Acceder</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>`;

                        $('#carousel-content').append(carouselItem);
                        activeClass = ''; // Desactivamos "active" para siguientes elementos
                    });
                }
            });
        });
    </script>

</body>

</html>